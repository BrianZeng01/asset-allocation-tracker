(this["webpackJsonpasset-allocation-tracker"]=this["webpackJsonpasset-allocation-tracker"]||[]).push([[0],{152:function(e,t,a){},153:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(42),c=a.n(l),o=a(3),s=a(4),u=a(6),i=a(5),m=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).array=function(e){for(var t=[],a=1;a<=e;a++)t.push(a);return t},e.toggleReallocate=function(){var t=document.getElementsByClassName("toggle");if("true"===e.props.reallocate)for(var a=0;a<t.length;a++)t[a].style.display="inline",t[a].required=!0;else for(var n=0;n<t.length;n++)t[n].style.display="none",t[n].required=!1},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.toggleReallocate()}},{key:"componentDidUpdate",value:function(){this.toggleReallocate()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"inputs"},this.array(this.props.counter).map((function(e,t){return r.a.createElement("div",{key:t,id:"asset"+e,className:"input"},e,":",r.a.createElement("label",{htmlFor:"ticker"+e},"Ticker"),r.a.createElement("input",{id:"ticker"+e,type:"text",required:!0}),r.a.createElement("label",{htmlFor:"shares"+e},"Shares"),r.a.createElement("input",{id:"shares"+e,type:"number",required:!0}),r.a.createElement("label",{htmlFor:"price"+e},"Price"),r.a.createElement("input",{id:"price"+e,type:"text",required:!0}),r.a.createElement("label",{className:"toggle",htmlFor:"min"+e},"Target Percentage"),r.a.createElement("input",{className:"toggle",id:"target"+e,type:"number",required:!0}))}))))}}]),a}(n.Component),h=a(25),d=a.n(h),p=a(43),g=a(46),E=a(44),f=a.n(E),v=a(45),y=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).changeDisplay=function(){"percentage"===n.state.display?n.setState({display:"value"}):n.setState({display:"percentage"}),console.log(n.state.display)},n.pieChart=function(e){var t=[],a=f()({count:e.length,luminosity:"light",hue:"#213458"});return e.forEach((function(e,n){e.splice(-1,1,a[n]),t.push({title:e[0],value:e[e.length-2],color:a[n]})})),r.a.createElement("div",{className:"pieChart"},r.a.createElement("div",{className:"chart"},r.a.createElement(g.PieChart,{className:"piechart",data:t,label:function(e){var t=e.dataEntry;return"".concat(Math.round(t.percentage),"%")},animate:!0,segmentsShift:.75,center:[55,55],viewBoxSize:[110,110]})),r.a.createElement("div",{className:"chartColors"},e.map((function(e,t){return r.a.createElement("div",{className:"color",key:t},r.a.createElement("div",{className:"square",style:{backgroundColor:e[e.length-1]}}),e[0])}))))},n.barChart=function(e,t){var a=[],n=[];e.forEach((function(e){a.push(e[0]),n.push(e["percentage"===t?e.length-2:1])})),n.push(0);var l={labels:a,datasets:[{label:"percentage"===t?"Percentage":"Value",backgroundColor:"#1F77AC",borderColor:"#213458",borderWidth:3,data:n}]};return r.a.createElement("div",{className:"barChart"},r.a.createElement(v.Bar,{className:"bar",height:350,data:l,options:{title:{display:!0,text:"percentage"===t?"Percentage of Portfolio":"Asset Values"},maintainAspectRatio:!1,legend:{display:!1}}}))},n.table=function(e,t){return r.a.createElement("div",{className:"table"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Ticker"),r.a.createElement("th",null,"Value"),r.a.createElement("th",null,"Shares"),"reallocated"===t?r.a.createElement("th",null,"Buy/Sell"):null,r.a.createElement("th",null,"Percentage"))),r.a.createElement("tbody",null,e.map((function(e,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,e[0]),r.a.createElement("td",null,e[1]),r.a.createElement("td",null,e[2]),r.a.createElement("td",null,e[3]),"reallocated"===t?r.a.createElement("td",null,e[4]):null)})))))},n.state={display:"percentage"},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.table(this.props.dataArray,this.props.type),this.pieChart(this.props.dataArray),this.barChart(this.props.dataArray,this.state.display),r.a.createElement("button",{onClick:this.changeDisplay},"percentage"===this.state.display?"View Value":"View Percentages"))}}]),a}(n.Component),b=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).calculateCurrent=function(){var e=n.props.data,t=0,a=[];e.forEach((function(e){var n=e[1]*e[2];a.push([e[0],n,e[1]]),t+=e[1]*e[2]})),a.forEach((function(e){e.push(Math.round(100*(e[1]/t*100+Number.EPSILON))/100),e.push("none")})),n.setState({currentAssets:a}),n.setState({totalValue:t})},n.calculateNew=function(){var e=n.props.data,t=0,a=[];e.forEach((function(e){var r=e[0],l=Math.floor(e[3]/100*n.state.totalValue/e[2]),c=l-e[1],o=l*e[2];t+=o,a.push([r,o,l,c])})),a.push(["CASH",n.state.totalValue-t,0,0]),a.forEach((function(e){e.push(Math.round(100*(e[1]/n.state.totalValue*100+Number.EPSILON))/100),e.push("none")})),n.setState({cash:n.state.totalValue-t}),n.setState({reallocatedAssets:a})},n.state={currentAssets:[],reallocatedAssets:[]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(console.log("mounting"),t=0;t<this.props.data.length;t++)a=this.props.data[t],document.getElementById("ticker"+(t+1)).value=a[0],document.getElementById("shares"+(t+1)).value=a[1],document.getElementById("price"+(t+1)).value=a[2],a.length>3&&(document.getElementById("target"+(t+1)).value=a[3]);return e.next=4,this.calculateCurrent();case 4:"true"===this.props.reallocate&&this.calculateNew();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"calculations"},r.a.createElement("div",{className:"currentAssets"},r.a.createElement("h1",null,"Current Allocation"),r.a.createElement(y,{dataArray:this.state.currentAssets,type:"current"})),r.a.createElement("div",{className:"reallocatedAssets"},r.a.createElement("h1",null,"New Allocation"),r.a.createElement(y,{dataArray:this.state.reallocatedAssets,type:"reallocated"}))))}}]),a}(n.Component),S=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).addAsset=function(){localStorage.setItem("counter",parseInt(localStorage.getItem("counter"))+1),e.setState({counter:parseInt(localStorage.getItem("counter"))})},e.removeAsset=function(){e.state.counter>1&&(localStorage.setItem("counter",parseInt(localStorage.getItem("counter"))-1),e.setState({counter:localStorage.getItem("counter")}))},e.calculate=function(){for(var t=document.getElementsByClassName("assetInputs"),a=[],n=0,r=0;r<t.length;r++){var l,c=[],o=t[r].getElementsByTagName("input");if("true"===e.state.reallocate?(l=4,n+=parseInt(o[3].value)):l=3,n>100)return document.getElementById("error").innerHTML="Sum of Target Percentages must not exceed 100%",!1;for(var s=0;s<l;s++)c.push(o[s].value);a.push(c)}a.sort(),e.setState({calculations:a}),localStorage.setItem("calculations",JSON.stringify(a)),console.log("submitted")},e.state={},e.state.counter=3,e.state.reallocate="true",e.state.calculations=[["APPL",30,150,20],["AMD",100,75,20],["VFV",130,70,60]],e}return Object(s.a)(a,[{key:"sleep",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"assets"},r.a.createElement("h1",null,"Asset Reallocator"),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{onClick:this.addAsset},"Add Asset"),r.a.createElement("button",{onClick:this.removeAsset},"Remove Last Asset"),r.a.createElement("button",{onClick:function(){localStorage.setItem("reallocate","true"===localStorage.getItem("reallocate")?"false":"true"),e.setState({reallocate:localStorage.getItem("reallocate")})}},"true"===this.state.reallocate?"Current Allocation Only":"Reallocate Assets"),r.a.createElement("button",{onClick:function(){localStorage.clear(),window.location.reload()}},"Clear")),r.a.createElement("form",{action:"#",onSubmit:function(){e.calculate()}},r.a.createElement(m,{counter:this.state.counter,reallocate:this.state.reallocate}),r.a.createElement("button",{type:"submit",className:"calculate"},"Calculate"),r.a.createElement("div",{id:"error"}))),r.a.createElement(b,{data:this.state.calculations,reallocate:this.state.reallocate}))}}]),a}(n.Component);a(152);var A=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},47:function(e,t,a){e.exports=a(153)}},[[47,1,2]]]);
//# sourceMappingURL=main.dbb90aa3.chunk.js.map